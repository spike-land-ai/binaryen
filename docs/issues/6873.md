# #6873: Support `Custom Page Sizes` proposal

- **URL:** https://github.com/WebAssembly/binaryen/issues/6873
- **Author:** vshymanskyy
- **Created:** 2024-08-25
- **Updated:** 2025-06-23

## Description

Currently, the WASM page size is fixed at 64KiB, which is rather expensive [in some scenarios](https://github.com/wasm3/embedded-wasm-apps).

WebAssembly WG proposed a new feature to handle it nicely:
https://github.com/WebAssembly/custom-page-sizes/blob/main/proposals/custom-page-sizes/Overview.md

It should be rather easy to implement, and it would help to catalyse the adoption of this feature: https://github.com/AssemblyScript/assemblyscript/issues/2866


## Comments (3)

### tlively (2024-08-27)

PRs for this would be very welcome.

---

### BilelGho (2025-06-23)

Hi. I am currently working on including support for this feature in a WebAssembly runtime for MCUs and therefore very interested in the compilation pipeline to WebAssembly supporting this feature. It is currently impossible to run `wasm-opt` to run extra-optimizations on my wasm module, if the linker generates a memory with a custom page size, so I have to choose now between less waste in the linear memory size and well-optimized wasm bitcode.   I am not too familiar with the binaryen code base, but happy to contribute if you expect the implementation to be easy. What are the key tasks/ features to tacke for implementing such support?


---

### kripken (2025-06-23)

@BilelGho This should be fairly easy, but would require changes in various places:

* You would add the page size as a property on the Memory class in `wasm.h`, replacing the constant `kPageSize`.
* Find all the places in the codebase that use the constant page size `kPageSize` and make them use the new variable page size.
* Add parsing and printing, in both text and binary.


---

