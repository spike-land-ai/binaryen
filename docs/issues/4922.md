# #4922: Halt stack.h with an error if multi-memories are present

- **URL:** https://github.com/WebAssembly/binaryen/issues/4922
- **Author:** ashleynh
- **Created:** 2022-08-18
- **Updated:** 2022-08-18

## Description

This pass can probably halt with an error (like on line 49 above) if there are no memories. Please also add a comment that we are assuming that memory 0 is the "main" memory here.

_Originally posted by @kripken in https://github.com/WebAssembly/binaryen/pull/4811#discussion_r933611134_
