# #4175: Missing opportunity for redundant set elimination

- **URL:** https://github.com/WebAssembly/binaryen/issues/4175
- **Author:** MaxGraey
- **Created:** 2021-09-22
- **Updated:** 2021-09-22

## Description

When variable used in basic block it could be also eliminated.
Simple example:
```ts
export function test(x: i32, y: i32): i32 {
  x = y;
  if (x) return x; // With "return y" RSE works as expected 
  return 0;
}
```
Current output:
```wat
(func $test (param $0 i32) (param $1 i32) (result i32)
  local.get $1
  local.tee $0
  if
   local.get $0
   return
  end
  i32.const 0
 )
```
expected output:
```wat
(func $test (param $0 i32) (param $1 i32) (result i32)
  local.get $1
  if
   local.get $1
   return
  end
  i32.const 0
 )
```
