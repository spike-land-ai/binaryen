# #7861: `--print-function-map` performs strange escaping on symbol name

- **URL:** https://github.com/WebAssembly/binaryen/issues/7861
- **Author:** sbc100
- **Created:** 2025-08-26
- **Updated:** 2025-08-26

## Description

See https://github.com/emscripten-core/emscripten/issues/24982.

e.g if my function has the name `Namespace::foo(Namespace::SomeClass)` in the name section the emitted symbol map file will contain: 

```
2:Namespace::foo\28Namespace::SomeClass\29
```

## Comments (4)

### sbc100 (2025-08-26)

I think we should stop using this on the emscripten side so maybe we can just remove this flag?

---

### kripken (2025-08-26)

I don't follow, how can we stop using this from the emscripten side? What would emscripten use instead?

Looking into the escaping, it seems the Names section has `()`, but Binaryen escapes it so it is a valid wat name. It then uses that in the IR. And `--print-function-map` prints out the names from the IR.

---

### sbc100 (2025-08-26)

Emscripten can just dump the names itself I think: https://github.com/emscripten-core/emscripten/pull/25053.  Should be faster too.

---

### kripken (2025-08-26)

Oh right... good idea.

---

