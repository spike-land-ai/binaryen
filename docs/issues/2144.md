# #2144: Inlining with -Os is suboptimal

- **URL:** https://github.com/WebAssembly/binaryen/issues/2144
- **Author:** kripken
- **Created:** 2019-05-24
- **Updated:** 2019-05-24

## Description

We are very careful not to increase code size in that mode. And we miss things like an isnan function (which does `x != x` on the input) being worth inlining if all the callsites have a constant value sent. We'd need to differentiate that from the case of a non-constant value, which means, a more general mechanism for deciding if inlining will reduce code size, which is not trivial.

See https://github.com/AssemblyScript/assemblyscript/pull/592#issuecomment-495710002
