# #1441: wasm-reduce problems on OS X

- **URL:** https://github.com/WebAssembly/binaryen/issues/1441
- **Author:** pepyakin
- **Created:** 2018-02-23
- **Updated:** 2018-02-23
- **Labels:** help wanted

## Description

Hi, check out my experience using `wasm-reduce`:

https://gist.github.com/pepyakin/79de4ac26d20adcd9db64bf85ef34cba

the problems I encountered:

- `timeout` is not installed on macOS
- `wasm-opt` can't be found without explicit env `BINARYEN_ROOT`.

I think that just a few more checks and error messages would be great to ease the experience!

## Comments (2)

### kripken (2018-02-23)

Sorry, yeah, wasm-reduce is not very portable.

 * I don't know how to replace timeout in a portable way (maybe using threads?).
 * I'm also not sure how to fix the BINARYEN_ROOT issue, basically the executable needs to find another executable in the same dir as it, is there a way to do that in C++?

I agree it would be good to add checks with better error messages and suggestions in the meanwhile.

---

### pepyakin (2018-02-23)

> Sorry, yeah, wasm-reduce is not very portable.

No worries, that's ok! : )

> I don't know how to replace timeout in a portable way (maybe using threads?).

I think that might be possibe with `pthread`?

> I'm also not sure how to fix the BINARYEN_ROOT issue, basically the executable needs to find another executable in the same dir as it, is there a way to do that in C++?

Maybe you can extract base-dir from an `argv[0]` and put it into a global variable? 




---

